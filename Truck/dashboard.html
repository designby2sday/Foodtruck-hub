<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Truck Hub â€“ Dashboard</title>
  <link rel="stylesheet" href="styles/truck.css">
</head>
<body>
  <!-- âœ… HEADER -->
  <header>
    <img src="images/logo-placeholder.png" alt="Food Truck Hub Logo" class="logo">
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="find-events.html" class="find-events-link">Find Events</a></li>
        <li><a href="dashboard.html" class="active">Dashboard</a></li>
        <li><a href="paywall.html">Subscription</a></li>
        <li><a href="login.html">Logout</a></li>
      </ul>
    </nav>
  </header>

  <!-- âœ… DASHBOARD HERO -->
  <section class="dashboard-hero">
    <h1>Welcome Back, Taco Time Truck! ğŸŒ®</h1>
    <p>Your hub for managing your account, bookings, and payments.</p>
  </section>

  <!-- âœ… DASHBOARD GRID -->
  <main class="dashboard-grid">
    <!-- ğŸ“„ Account Overview Card -->
   <div class="dash-card">
  <h2>ğŸ“„ Account Overview</h2>
  <p><strong>Truck Name:</strong> <span id="truckNameDisplay">Taco Time Truck</span></p>
  <p><strong>Owner:</strong> <span id="ownerNameDisplay">John Doe</span></p>
  <p><strong>Membership Tier:</strong> <span class="badge-tier pro" id="planTierBadge">Pro</span></p>
  <p><strong>Status:</strong> Active (Renews Oct 15, 2025)</p>
  <button class="dash-btn" onclick="window.location.href='edit-profile.html'">Edit Profile</button>
</div>

    <!-- ğŸ“¬ Calendar Linking Card -->
   <!-- ğŸ“¬ Calendar Linking Card -->
<div class="dash-card">
  <h2>ğŸ“¬ Calendar Linking</h2>
  <p>Connect your calendar to automatically sync booked events:</p>

  <button class="dash-btn connect-btn" id="googleCalendarBtn">Link Google Calendar</button>
  <button class="dash-btn connect-btn" id="outlookCalendarBtn">Link Outlook</button>

  <p class="note" id="calendarStatus">
    Currently Linked: None
  </p>
</div>

    <!-- ğŸ’³ Payment & Subscription Card -->
    <div class="dash-card">
      <h2>ğŸ’³ Payment & Subscription</h2>
      <p><strong>Plan:</strong> Pro â€“ $19/month</p>
      <p><strong>Next Billing:</strong> Oct 15, 2025</p>
      <button class="dash-btn" onclick="window.location.href='paywall.html#elite'">Upgrade to Elite</button>
<button class="dash-btn downgrade-btn" onclick="window.location.href='paywall.html#starter'">Downgrade to Starter</button>

      <p class="note">Manage payment method through Stripe</p>
    </div>

    <!-- ğŸ“‚ Recent Activity Card -->
    <div class="dash-card">
      <h2>ğŸ“‚ Recent Activity</h2>
      <ul class="activity-list">
        <li>ğŸŸï¸ Booked: Richmond Food & Arts Festival (Sept 20, 2025)</li>
        <li>âœ… Payment processed: Pro Plan Renewal (Sept 15, 2025)</li>
        <li>ğŸ“† Linked new calendar: Google Calendar</li>
      </ul>
      <button class="dash-btn">View All Activity</button>
    </div>
  </main>

  <!-- âœ… FOOTER -->
  <footer>
    <p>Â© 2025 Food Truck Hub. All Rights Reserved.</p>
    <p style="text-align:center; font-size:0.7rem; opacity:0.3;">
  <a href="dev-sitemap.html" style="color:white;" title="Dev Access">.</a>
</p>
  </footer>

  <!-- âœ… DEV GLOBAL SCRIPT -->
  <script src="scripts/global.js"></script>
  <script>
// âœ… Load profile data from localStorage
const savedProfile = JSON.parse(localStorage.getItem('profileData')) || {};

// âœ… Update the account overview if data exists
if (savedProfile.truckName) {
  document.getElementById('truckNameDisplay').innerText = savedProfile.truckName;
}
if (savedProfile.ownerName) {
  document.getElementById('ownerNameDisplay').innerText = savedProfile.ownerName;
}

// âœ… Optional: Update plan badge color based on saved plan
const savedPlan = localStorage.getItem("currentPlan") || "Pro";
const badge = document.getElementById("planTierBadge");
badge.innerText = savedPlan;

if (savedPlan === "Starter") {
  badge.className = "badge-tier starter";
} else if (savedPlan === "Elite") {
  badge.className = "badge-tier elite";
} else {
  badge.className = "badge-tier pro";
}
</script>

</body>
</html>
<script src="scripts/global.js"></script>
<script>
  // âœ… Get plan choice from localStorage
  const planName = localStorage.getItem("currentPlan") || "Pro";

  // âœ… Update plan section
  const planText = document.getElementById("currentPlanText");
  const planPrice = document.getElementById("currentPlanPrice");

  if (planName === "Starter") {
      planText.textContent = "Starter";
      planPrice.textContent = "$99 every 3 months";
  } else if (planName === "Pro") {
      planText.textContent = "Pro";
      planPrice.textContent = "$299 every 6 months";
  } else if (planName === "Elite") {
      planText.textContent = "Elite";
      planPrice.textContent = "$499 every year";
  }
</script>
