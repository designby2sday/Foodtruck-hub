<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Food Truck Hub ‚Äì Pricing Plans</title>
  <link rel="stylesheet" href="styles/truck.css" />
</head>
<body>

  <!-- ‚úÖ HEADER -->
  <header>
    <img src="images/logo-placeholder.png" alt="Food Truck Hub Logo" class="logo" />
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="signup.html">Sign Up</a></li>
        <li><a href="paywall.html">Dashboard</a></li>
      </ul>
    </nav>
  </header>

  <!-- ‚úÖ MAIN PAYWALL SECTION -->
  <main class="paywall">
    <h2>üöß Find Events is a Premium Feature</h2>
    <p>Choose a plan that fits your truck ‚Äî unlock events, apply instantly, and sync your schedule!</p>

    <div class="pricing-container">
      <!-- Starter Plan -->
      <div class="pricing-box" id="starter">
        <h3>Starter</h3>
        <p class="price">$99 <span class="billing-cycle">/ 3 months</span></p>
        <ul>
          <li>‚úÖ Access to local events</li>
          <li>‚úÖ Apply to 6 events per month</li>
          <li>‚ùå No calendar sync</li>
        </ul>
        <a href="#" class="cta-btn" id="starter-btn">Choose Starter</a>
        <span class="popular-badge" id="starterBadge">Most Popular</span>
      </div>

      <!-- Pro Plan -->
      <div class="pricing-box" id="pro">
        <h3>Pro</h3>
        <p class="price">$299 <span class="billing-cycle">/ 6 months</span></p>
        <ul>
          <li>‚úÖ Access to ALL events</li>
          <li>‚úÖ Unlimited applications</li>
          <li>‚úÖ Calendar integration</li>
          <li>‚úÖ Priority vendor listings</li>
        </ul>
        <a href="#" class="cta-btn" id="pro-btn">Choose Pro</a>
        <span class="popular-badge" id="proBadge">Most Popular</span>
      </div>

      <!-- Elite Plan -->
      <div class="pricing-box" id="elite">
        <h3>Elite</h3>
        <p class="price">$499 <span class="billing-cycle">/ year</span></p>
        <ul>
          <li>‚úÖ Everything in Pro</li>
          <li>‚úÖ Featured placement in search</li>
          <li>‚úÖ VIP support line</li>
          <li>‚úÖ Access to invite-only events</li>
        </ul>
        <a href="#" class="cta-btn" id="elite-btn">Choose Elite</a>
        <span class="popular-badge" id="eliteBadge">Most Popular</span>
      </div>
    </div>
  </main>

  <!-- ‚úÖ FOOTER -->
  <footer>
    <p>¬© 2025 Food Truck Hub. All Rights Reserved.</p>
  </footer>

  <!-- ‚úÖ SCRIPTS -->
  <script src="scripts/global.js"></script>

  <!-- Slam Badge -->
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      setTimeout(() => {
        const badge = document.getElementById("proBadge");
        if (badge) badge.classList.add("pop");
      }, 1500);
    });
  </script>

  <!-- Plan Logic -->
  <script>
    const currentPlan = localStorage.getItem("currentPlan") || "Pro";

    document.querySelectorAll('.pricing-box').forEach(box => {
      box.classList.remove('highlighted');

      const badge = box.querySelector('.popular-badge');
      if (badge) {
        badge.innerText = "Most Popular";
        badge.style.display = "inline-block";
        badge.style.background = "#FF7F32";
      }

      const btn = box.querySelector('.cta-btn');
      if (btn) {
        btn.innerText = `Choose ${box.querySelector("h3").innerText}`;
        btn.style.background = "#FF7F32";
        btn.style.cursor = "pointer";
        btn.disabled = false;
      }
    });

    const selectedBox = document.getElementById(currentPlan.toLowerCase());
    if (selectedBox) {
      selectedBox.classList.add('highlighted');

      const badge = selectedBox.querySelector('.popular-badge');
      if (badge) {
        badge.innerText = "Current Plan";
        badge.style.background = "#999";
      }

      const currentBtn = selectedBox.querySelector('.cta-btn');
      if (currentBtn) {
        currentBtn.innerText = "Your Current Plan";
        currentBtn.style.background = "#ccc";
        currentBtn.style.cursor = "not-allowed";
        currentBtn.disabled = true;
        currentBtn.addEventListener('click', (e) => e.preventDefault());
      }
    }

    document.querySelectorAll('.cta-btn').forEach(button => {
      if (button.innerText !== "Your Current Plan") {
        button.addEventListener('click', function (e) {
          e.preventDefault();
          const planName = this.closest('.pricing-box').querySelector('h3').innerText;
          localStorage.setItem("currentPlan", planName);
          alert(`‚úÖ You have successfully switched to the ${planName} Plan!`);
          window.location.reload();
        });
      }
    });
  </script>

  <!-- Auto-Highlight Nav -->
  <script>
    const currentPage = window.location.pathname.split("/").pop();
    document.querySelectorAll("nav a").forEach(link => {
      const linkPage = link.getAttribute("href");
      if (linkPage === currentPage) {
        link.classList.add("active");
      }
    });
  </script>
</body>
</html>
