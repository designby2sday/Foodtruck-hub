<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Truck Hub â€“ Pricing Plans</title>
    <link rel="stylesheet" href="styles/truck.css">
</head>
<body>
    <!-- âœ… HEADER -->
    <header>
        <img src="images/logo-placeholder.png" alt="Food Truck Hub Logo" class="logo">
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="signup.html">Sign Up</a></li>
                <li><a href="paywall.html">Dashboard</a></li>
            </ul>
        </nav>
    </header>

    <!-- âœ… MAIN PAYWALL SECTION -->
    <main class="paywall">
        <h2>ğŸš§ Find Events is a Premium Feature</h2>
        <p>Choose a plan that fits your truck â€” unlock events, apply instantly, and sync your schedule!</p>

        <div class="pricing-container">

   <!-- Starter Tier -->
<div class="pricing-box" id="starter">
    <h3>Starter</h3>
    <p class="price">$99 <span class="billing-cycle">/ 3 months</span></p>
    <ul>
        <li>âœ… Access to local events</li>
        <li>âœ… Apply to 6 events per month</li>
        <li>âŒ No calendar sync</li>
    </ul>
    <a href="#" class="cta-btn" id="starter-btn">Choose Starter</a>
</div>

<!-- Pro Tier -->
<div class="pricing-box highlighted" id="pro">
    <h3>Pro</h3>
    <p class="price">$299 <span class="billing-cycle">/ 6 months</span></p>
    <ul>
        <li>âœ… Access to ALL events</li>
        <li>âœ… Unlimited applications</li>
        <li>âœ… Calendar integration</li>
        <li>âœ… Priority vendor listings</li>
    </ul>
    <a href="#" class="cta-btn" id="pro-btn">Choose Pro</a>
    <span class="badge" id="pro-badge">Most Popular</span>
</div>

<!-- Elite Tier -->
<div class="pricing-box" id="elite">
    <h3>Elite</h3>
    <p class="price">$499 <span class="billing-cycle">/ year</span></p>
    <ul>
        <li>âœ… Everything in Pro</li>
        <li>âœ… Featured placement in search</li>
        <li>âœ… VIP support line</li>
        <li>âœ… Access to exclusive â€œinvite-onlyâ€ events</li>
    </ul>
    <a href="#" class="cta-btn" id="elite-btn">Choose Elite</a>
</div>
    </main>

    <!-- âœ… FOOTER -->
    <footer>
        <p>Â© 2025 Food Truck Hub. All Rights Reserved.</p>
    </footer>
   <script src="scripts/global.js"></script>
<script>
  const currentPlan = localStorage.getItem("currentPlan") || "Pro";

  // âœ… Highlight the current plan & disable its button
  document.querySelectorAll('.pricing-box').forEach(box => {
    box.classList.remove('highlighted');

    const badge = box.querySelector('.badge');
    if (badge && badge.id === 'pro-badge') {
        badge.style.display = "inline"; // Show Most Popular badge unless Pro is current
    }
  });

  const selectedBox = document.getElementById(currentPlan.toLowerCase());
  if (selectedBox) {
    selectedBox.classList.add('highlighted');

    // âœ… Add "Current Plan" badge
    const currentBadge = document.createElement('span');
    currentBadge.classList.add('current-plan-badge');
    currentBadge.innerText = "Current Plan";
    selectedBox.appendChild(currentBadge);

    // âœ… Hide "Most Popular" if user is already on Pro
    if (currentPlan === "Pro") {
      const proBadge = document.getElementById('pro-badge');
      if (proBadge) proBadge.style.display = "none";
    }

    // âœ… Disable the button for the current plan
    const currentBtn = selectedBox.querySelector('.cta-btn');
    if (currentBtn) {
      currentBtn.innerText = "Your Current Plan";
      currentBtn.style.background = "#ccc";
      currentBtn.style.cursor = "not-allowed";
      currentBtn.addEventListener('click', (e) => e.preventDefault());
    }
  }

  // âœ… Mock Plan Switching for other buttons
  document.querySelectorAll('.cta-btn').forEach(button => {
    if (button.innerText !== "Your Current Plan") {
      button.addEventListener('click', function (e) {
        e.preventDefault();
        const planName = this.closest('.pricing-box').querySelector('h3').innerText;

        // Save new plan
        localStorage.setItem("currentPlan", planName);

        alert(`âœ… You have successfully switched to the ${planName} Plan!`);

        // Redirect back to dashboard
        window.location.href = 'dashboard.html';
      });
    }
  });
</script>

      // âœ… Save plan to localStorage for Dashboard
      localStorage.setItem("currentPlan", planName);

      alert(`âœ… You have successfully switched to the ${planName} Plan!`);

      // âœ… Redirect back to Dashboard
      window.location.href = 'dashboard.html';
    });
  });
</script>

      
      // For testing: Send back to dashboard
      window.location.href = 'dashboard.html';
    });
  });
</script>
<script src="scripts/global.js"></script>

</body>
</html>
